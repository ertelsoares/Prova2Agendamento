<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
            <h:form>
                 <p:column>
                   <p:outputLabel><strong>Tipo de  Serviço</strong></p:outputLabel>
                   <p:selectOneMenu value="#{buscaBean.tipodeservicoselecionado}"
                                    converter="#{TipodeServicoConverter}">
                       <f:selectItems value="#{aplicacao.itensTiposdeServicos}"/>
                        <p:ajax event="change" immediate="true" update="equipe"/>
                        <p:ajax event="change" immediate="true" update="periodo"/>
                        <p:ajax event="change" immediate="true" update="responsavel"/>
                        <p:ajax event="change" immediate="true" update="valorperiodo"/>
                        <p:ajax event="change" immediate="true" update="totalservico"/>
                     </p:selectOneMenu>
                 </p:column>
                 <p:column><br/>
                    <p:outputLabel><strong>Equipe</strong></p:outputLabel>
                    <p:selectOneMenu id="equipe"
                                     value="#{buscaBean.equipeSelecionada}"
                                     converter="#{EquipeConverter}">
                        <f:selectItems value="#{buscaBean.selectEquipes}"/>
                        <p:ajax event="change" immediate="true" update="periodo"/>
                        <p:ajax event="change" immediate="true" update="responsavel"/>
                        <p:ajax event="change" immediate="true" update="valorperiodo"/>
                        <p:ajax event="change" immediate="true" update="totalservico"/>
                     </p:selectOneMenu>
                   
                  </p:column><br/>
                  <br/>
               <p:column>
                       
                       <p:outputLabel><strong>Responsável:</strong></p:outputLabel>
                       <p:outputLabel id="responsavel"  value=" #{buscaBean.responsavel}" />
                       <br/>
                       <p:outputLabel><strong>Valor do periodo:</strong></p:outputLabel>
                       <p:outputLabel id="valorperiodo"  value=" #{buscaBean.valorservico}" />
                       <br/>
                        <p:outputLabel><strong>Periodo:</strong></p:outputLabel>
                       
                        <p:selectOneRadio id="periodo" value="#{buscaBean.periodo}">
                             <f:selectItem itemLabel="Manhã" itemValue="manha" />
                              <f:selectItem itemLabel="Tarde" itemValue="tarde" />
                              <f:selectItem itemLabel="Dia Inteiro" itemValue="diainterio" />
                               <p:ajax event="change" immediate="true" update="totalservico"/>
                         </p:selectOneRadio>
                        <br/>
                         <br/><br/>
                          <p:outputLabel><strong>Contratante:</strong></p:outputLabel>
                          <p:inputText value="#{buscaBean.contratante}" />
                          <br/><br/>
                          <p:outputLabel><strong>Telefone de Contato:</strong></p:outputLabel>
                          <p:inputMask mask="(99)99999-9999" value="#{buscaBean.telefonecontato}"/>
                          <br/><br/>
                           <p:outputLabel><strong>Endereço do Serviço:</strong></p:outputLabel>
                           <p:inputText value="#{buscaBean.enderecodoservico}" />
                          <br/><br/>
                        <p:outputLabel><strong>Total Serviço:</strong></p:outputLabel>
                        <p:outputLabel id="totalservico"  value=" #{buscaBean.totalServico}" />
               </p:column><br/><br/>
                  <p:commandButton value="Confirmar" 
                             ajax="false" action="#{agendamentoBean.confirmarAgendamento()}"/>
                  <p:commandButton value="Limpar" 
                                   ajax="true" immediate="true" />
                  
           </h:form>
                
        <p:outputLabel value="#{agendamentoBean.agendamento.email}" />

        
    </h:body>
</html>

